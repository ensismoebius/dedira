<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script>
	function roundedRect(ctx, x, y, width, height, radius) {
		ctx.beginPath();
		ctx.moveTo(x, y + radius);
		ctx.lineTo(x, y + height - radius);
		ctx.quadraticCurveTo(x, y + height, x + radius, y + height);
		ctx.lineTo(x + width - radius, y + height);
		ctx.quadraticCurveTo(x + width, y + height, x + width, y + height - radius);
		ctx.lineTo(x + width, y + radius);
		ctx.quadraticCurveTo(x + width, y, x + width - radius, y);
		ctx.lineTo(x + radius, y);
		ctx.quadraticCurveTo(x, y, x, y + radius);
		ctx.stroke();
	}
	function tarefa(texto, timeline) {
		var ctx = document.getElementById('chart').getContext('2d');
		var img = new Image();
		var lenTexto = texto.length;
		var tamanhoDoTexto = 12;

		this.render = function() {
			//ctx.rotate(0.3);

			var lingrad = ctx.createLinearGradient(0, 0, 0, 150);
			lingrad.addColorStop(0, '#00ABEB');
			lingrad.addColorStop(0.5, '#fff');
			lingrad.addColorStop(0.5, '#26C000');
			lingrad.addColorStop(1, '#fff');

			//ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
			ctx.fillStyle = lingrad;
			ctx.fillRect(13 + timeline, 13, (lenTexto * tamanhoDoTexto / 2) + 55, 49, 10);
			ctx.lineWidth = 1.5;
			roundedRect(ctx, 12 + timeline, 12, (lenTexto * tamanhoDoTexto / 2) + 55, 50, 0);
			ctx.drawImage(img, 0 + timeline, 0, 50, 50);

			ctx.shadowOffsetX = 2;
			ctx.shadowOffsetY = 2;
			ctx.shadowBlur = 2;
			ctx.shadowColor = "rgba(0, 0, 0, 0.5)";

			ctx.font = tamanhoDoTexto + "px Sans";
			ctx.fillStyle = "Black";
			ctx.fillText(texto, 50 + timeline, 30);

			//ctx.rotate(-0.3);
		};

		img.onload = this.render;

		img.src = 'img/aviso.svg';
	}
</script>
</head>
<body onload="tarefa('André bonitão', 100);">

<canvas id="chart" width="1000" height="500"></canvas>

</body>

</html>
